var e=Object.defineProperty,n=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(n,t,o)=>t in n?e(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,i=(e,n)=>{for(var t in n||(n={}))a.call(n,t)&&s(e,t,n[t]);if(o)for(var t of o(n))l.call(n,t)&&s(e,t,n[t]);return e},r=(e,o)=>n(e,t(o));import{m as c,g as d,d as u,r as p,o as g,c as m,t as f,a as h,G as b,u as v,i as y,w as k,b as w,e as x,f as I,h as C,j as S,k as _,l as T,n as $,F as L,p as V,q as D,s as U,v as E,x as M,y as H,z,A as j,B as A,C as O,D as B,E as F,H as P,I as q,T as Q,J as N,K as R,L as K,M as W,N as G,O as J,P as X,Q as Y,R as Z,S as ee,U as ne,V as te,W as oe,X as ae,Y as le,Z as se,_ as ie,$ as re,a0 as ce,a1 as de,a2 as ue,a3 as pe,a4 as ge,a5 as me}from"./index-7e9c327e.js";import{_ as fe}from"./plugin-vue_export-helper-46f75680.js";import{b as he,_ as be}from"./boy-60d2a964.js";import{g as ve,_ as ye,v as ke}from"./validator-16ef0ed0.js";import{l as we,_ as xe}from"./logo-145c6dfc.js";import{N as Ie}from"./NoticeDialog-5a750ff1.js";import{F as Ce,u as Se,q as _e,_ as Te,Q as $e}from"./qq-06eb59da.js";var Le,Ve,De,Ue,Ee,Me,He={exports:{}};
/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/Le=He,Ve="undefined"!=typeof window&&void 0!==window.document?window.document:{},De=Le.exports,Ue=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t=0,o=n.length,a={};t<o;t++)if((e=n[t])&&e[1]in Ve){for(t=0;t<e.length;t++)a[n[0][t]]=e[t];return a}return!1}(),Ee={change:Ue.fullscreenchange,error:Ue.fullscreenerror},Me={request:function(e,n){return new Promise(function(t,o){var a=function(){this.off("change",a),t()}.bind(this);this.on("change",a);var l=(e=e||Ve.documentElement)[Ue.requestFullscreen](n);l instanceof Promise&&l.then(a).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var t=function(){this.off("change",t),e()}.bind(this);this.on("change",t);var o=Ve[Ue.exitFullscreen]();o instanceof Promise&&o.then(t).catch(n)}else e()}.bind(this))},toggle:function(e,n){return this.isFullscreen?this.exit():this.request(e,n)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var t=Ee[e];t&&Ve.addEventListener(t,n,!1)},off:function(e,n){var t=Ee[e];t&&Ve.removeEventListener(t,n,!1)},raw:Ue},Ue?(Object.defineProperties(Me,{isFullscreen:{get:function(){return Boolean(Ve[Ue.fullscreenElement])}},element:{enumerable:!0,get:function(){return Ve[Ue.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(Ve[Ue.fullscreenEnabled])}}}),De?Le.exports=Me:window.screenfull=Me):De?Le.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};var ze=He.exports;var je="/static/png/wxDonate-e124c4fb.png";Symbol.toStringTag;const Ae=u({name:"DonateDialog",components:{},props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(e,n){const{proxy:t}=d();let o=p({dialogVisible:e.visible,thanks:[],payTypeList:[{value:"0",label:"支付宝",icon:"alipay",color:"#447df6"},{value:"1",label:"微信",icon:"wx",color:"#2cac30"}],payInfo:{payType:"0",status:"0",outTradeNo:"",totalAmount:"",subject:"赞助",version:"",uid:"",orderType:"2"},loading:!1});const a=h((()=>e=>new URL(`/svg/${e}.svg`,window.location.href).href));let l={handleSelect(e,n){o.payInfo.payType=e.value},handleClose(){o.dialogVisible=!1,n.emit("close")},handleGenerateOrder(){if(o.payInfo.outTradeNo=b(),o.payInfo.totalAmount=String(parseFloat(Number(o.payInfo.totalAmount).toFixed(1))),"0"===o.payInfo.totalAmount)return t.$message.warning("金额需要大于等于1喔");const e=t.$bmob.Query("Order");e.set("payType",o.payInfo.payType),e.set("status",o.payInfo.status),e.set("subject",o.payInfo.subject),e.set("totalAmount",o.payInfo.totalAmount),e.set("uid",v.v1()),e.set("version",o.payInfo.version),e.set("outTradeNo",o.payInfo.outTradeNo),e.set("orderType",o.payInfo.orderType),e.save().then((async e=>{"0"===o.payInfo.payType?l.handleAliPay(e):l.handleWxPay()})).catch((e=>{o.loading=!1,t.$message.error("赞助失败，请换一种方式吧~")}))},async handleAliPay(e){try{let n=r(i({},e),{returnUrl:window.location.origin+"/about"}),o=y()?"wap":"page";const a=await t.$http.alipay(n,o);l.handleClose(),window.open(a.data.url,"_blank")}catch(n){o.loading=!1,t.$message.error("跳转支付失败，请换一种方式吧~")}},async handleWxPay(){try{let e=o.payInfo.outTradeNo,n=String(Math.floor((new Date).getTime()/1e3)),a=k({mch_id:t.$config.WX_MCH_ID,out_trade_no:e,total_fee:o.payInfo.totalAmount,body:o.payInfo.subject,timestamp:n,notify_url:"https://api.zwpyyds.com/px/api/wxpay/notify"},t.$config.WX_KEY),l={mch_id:t.$config.WX_MCH_ID,out_trade_no:e,total_fee:o.payInfo.totalAmount,body:o.payInfo.subject,timestamp:n,notify_url:"https://api.zwpyyds.com/px/api/wxpay/notify",return_url:`${window.location.origin}/about?payType=wx&out_trade_no=${e}`,sign:a,time_expire:"2m"};const s=await t.$http.wxPay(l);o.loading=!1,0===s.data.code?window.open(s.data.data,"_blank"):t.$message.error("请求支付失败，请联系作者")}catch(e){o.loading=!1,t.$message.error("请求支付失败，请联系作者")}},handleConfirm:async()=>""===o.payInfo.version.trim()||""===o.payInfo.totalAmount.trim()?t.$message.warning("请填写赞助信息喔~"):0===Number(o.payInfo.totalAmount)?t.$message.warning("金额需要大于等于1喔"):(o.loading=!0,void l.handleGenerateOrder())};return g((()=>{m()&&(o.payInfo.payType="1")})),r(i(i({},f(o)),l),{getIcon:a,checkIsClientEnv:m})}}),Oe={class:"donate-content scrollbar"},Be={class:"flex-column-start full-w",style:{margin:"20px 0",gap:"15px"}},Fe={class:"flex-column-start full-w",style:{margin:"20px 0",gap:"15px"}},Pe={key:1,class:"donate-item flex-center"},qe={key:2,style:{margin:"10px 0"},class:"full-w"},Qe={class:"page-box"},Ne=["onClick"],Re=["src"],Ke={class:"dialog-footer"};var We=fe(Ae,[["render",function(e,n,t,o,a,l){const s=w("el-input"),i=w("el-image"),r=w("el-button"),c=w("el-dialog");return x(),I(c,{modelValue:e.dialogVisible,"onUpdate:modelValue":n[2]||(n[2]=n=>e.dialogVisible=n),title:"赞助作者",width:350,"lock-scroll":!1,"before-close":e.handleClose,class:"z-dialog",center:""},{footer:C((()=>[S("span",Ke,[_(r,{onClick:e.handleClose},{default:C((()=>n[7]||(n[7]=[T("取 消")]))),_:1,__:[7]},8,["onClick"]),_(r,{type:"primary",onClick:e.handleConfirm,loading:e.loading},{default:C((()=>n[8]||(n[8]=[T("确 定")]))),_:1,__:[8]},8,["onClick","loading"])])])),default:C((()=>[S("div",Oe,[e.checkIsClientEnv()?V("",!0):(x(),$(L,{key:0},[S("div",Be,[n[3]||(n[3]=S("p",null,"未知足下如何称呼？",-1)),_(s,{modelValue:e.payInfo.version,"onUpdate:modelValue":n[0]||(n[0]=n=>e.payInfo.version=n),placeholder:"请输入您的大名",clearable:""},null,8,["modelValue"])]),S("div",Fe,[n[4]||(n[4]=S("p",null,"赞助金额",-1)),_(s,{type:"number",modelValue:e.payInfo.totalAmount,"onUpdate:modelValue":n[1]||(n[1]=n=>e.payInfo.totalAmount=n),placeholder:"请输入赞助金额",clearable:""},null,8,["modelValue"])])],64)),e.checkIsClientEnv()?(x(),$("div",Pe,[_(i,{style:{"border-radius":"10px"},src:je,fit:"contain"},null,8,["src"]),n[5]||(n[5]=S("p",null,"请您在微信支付时填写留言(昵称),以便在赞助列表中展示！",-1))])):V("",!0),e.checkIsClientEnv()?V("",!0):(x(),$("div",qe,[n[6]||(n[6]=S("p",null,"支付类型",-1)),S("div",Qe,[(x(!0),$(L,null,D(e.payTypeList,((n,t)=>(x(),$("div",{class:U(["page-icon flex-column-center pointer",{active:t==e.payInfo.payType}]),key:n.value,onClick:o=>e.handleSelect(n,t)},[S("img",{src:e.getIcon(n.icon),style:E({backgroundColor:n.color})},null,12,Re),S("span",null,M(n.label),1)],10,Ne)))),128))])]))])])),_:1},8,["modelValue","before-close"])}],["__scopeId","data-v-4f0ba01c"]]);const Ge=u({name:"AddLinkOrDonateDialog",components:{},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"添 加"},type:{type:String,default:"Link"}},emits:["close"],setup(e,n){const{proxy:t}=d();H();let o=p({loading:!1,dialogVisible:e.visible,form:{Link:{label:"",type:"",url:"",icon:""},Donate:{name:"",avatar:"null",link:"null",amount:0}}}),a={handleClose(){o.dialogVisible=!1,n.emit("close")},async handleConfirm(){o.loading=!0;const n=t.$bmob.Query(e.type);for(let t in o.form[e.type])"amount"===t?n.set(t,Number(o.form[e.type][t])):n.set(t,o.form[e.type][t]);n.save().then((e=>{o.loading=!1,t.$message.success("添加成功"),a.handleClose()})).catch((e=>{o.loading=!1,t.$message.error("添加失败")}))}};return i(i({},f(o)),a)}}),Je={class:"dialog-footer"};var Xe=fe(Ge,[["render",function(e,n,t,o,a,l){const s=w("el-input"),i=w("el-form-item"),r=w("el-color-picker"),c=w("el-form"),d=w("el-button"),u=w("el-dialog");return x(),I(u,{modelValue:e.dialogVisible,"onUpdate:modelValue":n[8]||(n[8]=n=>e.dialogVisible=n),title:e.title,"before-close":e.handleClose,class:"z-dialog",center:"","close-on-click-modal":!1,width:350},{footer:C((()=>[S("span",Je,[_(d,{onClick:e.handleClose},{default:C((()=>n[9]||(n[9]=[T("取 消")]))),_:1,__:[9]},8,["onClick"]),_(d,{type:"primary",onClick:e.handleConfirm,loading:e.loading},{default:C((()=>n[10]||(n[10]=[T("确 定")]))),_:1,__:[10]},8,["onClick","loading"])])])),default:C((()=>["Link"===e.type?(x(),I(c,{key:0,model:e.form.Link,"label-position":"top"},{default:C((()=>[_(i,{label:"链接名称"},{default:C((()=>[_(s,{modelValue:e.form.Link.label,"onUpdate:modelValue":n[0]||(n[0]=n=>e.form.Link.label=n),placeholder:"请输入名称",clearable:""},null,8,["modelValue"])])),_:1}),_(i,{label:"链接颜色"},{default:C((()=>[_(r,{modelValue:e.form.Link.type,"onUpdate:modelValue":n[1]||(n[1]=n=>e.form.Link.type=n)},null,8,["modelValue"])])),_:1}),_(i,{label:"链接URL"},{default:C((()=>[_(s,{modelValue:e.form.Link.url,"onUpdate:modelValue":n[2]||(n[2]=n=>e.form.Link.url=n),placeholder:"请输入链接",clearable:""},null,8,["modelValue"])])),_:1}),_(i,{label:"链接图标"},{default:C((()=>[_(s,{modelValue:e.form.Link.icon,"onUpdate:modelValue":n[3]||(n[3]=n=>e.form.Link.icon=n),placeholder:"请输入链接",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])):"Donate"===e.type?(x(),I(c,{key:1,model:e.form.Donate,"label-position":"top"},{default:C((()=>[_(i,{label:"赞助名称"},{default:C((()=>[_(s,{modelValue:e.form.Donate.name,"onUpdate:modelValue":n[4]||(n[4]=n=>e.form.Donate.name=n),placeholder:"请输入名称",clearable:""},null,8,["modelValue"])])),_:1}),_(i,{label:"赞助外链"},{default:C((()=>[_(s,{modelValue:e.form.Donate.link,"onUpdate:modelValue":n[5]||(n[5]=n=>e.form.Donate.link=n),placeholder:"请输入外链",clearable:""},null,8,["modelValue"])])),_:1}),_(i,{label:"赞助头像"},{default:C((()=>[_(s,{modelValue:e.form.Donate.avatar,"onUpdate:modelValue":n[6]||(n[6]=n=>e.form.Donate.avatar=n),placeholder:"请输入头像",clearable:""},null,8,["modelValue"])])),_:1}),_(i,{label:"赞助金额"},{default:C((()=>[_(s,{modelValue:e.form.Donate.amount,"onUpdate:modelValue":n[7]||(n[7]=n=>e.form.Donate.amount=n),placeholder:"请输入金额",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])):V("",!0)])),_:1},8,["modelValue","title","before-close"])}]]);const Ye=u({name:"ValidateSecretDialog",components:{},props:{visible:{type:Boolean,default:!1}},emits:["close","update"],setup(e,n){const t=z(),{proxy:o}=d(),a=H();let l=p({form:{secret:"",id:"0",desc:o.$config.secretTypeList[0].desc},loading:!1,rules:{secret:[{required:!0,trigger:"change",message:"请输入密钥"}]},dialogVisible:e.visible});const s=h((()=>e=>"xsgz"===e?new URL("/logo.png",window.location.href).href:new URL(`/img/${e}.png`,window.location.href).href));let c={handleSelect(e,n){l.form.id=String(n),l.form.desc=e.desc},handleClose(){l.dialogVisible=!1,n.emit("close")},handleToPrice(){c.handleClose(),o.$router.push("/price")},handleXsgzSecret(){const e=o.$bmob.Query("Key");e.equalTo("isUse","==","0"),e.equalTo("key","==",l.form.secret),e.select("objectId","key","exp","version"),e.limit(1),e.find(!1).then((e=>{if(!e.length)return l.loading=!1,o.$message.error("校验失败，密钥不存在或已被使用");c.handleUpdateKey(e[0],"Key","isUse")})).catch((e=>{l.loading=!1,o.$message.error("校验失败，请联系作者")}))},handleUpdateKey(e,n,t,s="key"){const i=o.$bmob.Query(n);i.set("id",e.objectId),i.set(t,"1"),i.set("userId",a.userData.uid),i.save().then((n=>{c.handleUpdateUser(e,s)})).catch((e=>{l.loading=!1,o.$message.error("校验失败，请联系作者")}))},handleCocoSecret(){const e=o.$bmob.Query("Key");e.equalTo("isUse","==","0"),e.equalTo("key","==",l.form.secret),e.select("objectId","key","exp","version"),e.limit(1),e.find(!1).then((e=>{if(!e.length)return l.loading=!1,o.$message.error("校验失败，密钥不存在或已被使用");c.handleUpdateKey(e[0],"Key","isUse","cocoKey")})).catch((e=>{l.loading=!1,o.$message.error("校验失败，请联系作者")}))},handleUpdateUser(e,n){let t=j((new Date).getTime()+2592e6*e.exp);"0"===l.form.id&&"key"===n&&(t="0");let s={vip:e.version,vipEndAt:t};a.updateUserInfo(o,s,(()=>{o.$message.success("校验成功"),l.loading=!1,c.handleClose()}),(()=>{o.$message.error("校验失败，请联系作者"),l.loading=!1}))},async handleConfirm(e){if(a.checkIsLogin())return c.handleClose();e&&e.validate((e=>{if(!e)return!1;l.loading=!0,"0"===l.form.id?c.handleXsgzSecret():"1"===l.form.id&&c.handleCocoSecret()}))}};return r(i(i({},f(l)),c),{ruleFormRef:t,getIcon:s})}}),Ze={class:"page-box"},en=["onClick"],nn=["src"],tn={key:0,class:"type-desc text-justify"},on={key:1,class:"type-desc text-justify"},an={class:"dialog-footer"};var ln=fe(Ye,[["render",function(e,n,t,o,a,l){const s=w("el-input"),i=w("el-form-item"),r=w("el-form"),c=w("el-button"),d=w("el-dialog");return x(),I(d,{modelValue:e.dialogVisible,"onUpdate:modelValue":n[3]||(n[3]=n=>e.dialogVisible=n),title:"激活密钥","before-close":e.handleClose,class:"z-dialog",center:"","close-on-click-modal":!1,width:350},{footer:C((()=>[S("span",an,[_(c,{onClick:e.handleClose},{default:C((()=>n[7]||(n[7]=[T("取 消")]))),_:1,__:[7]},8,["onClick"]),_(c,{type:"primary",onClick:n[2]||(n[2]=n=>e.handleConfirm(e.ruleFormRef)),loading:e.loading},{default:C((()=>n[8]||(n[8]=[T("确 定")]))),_:1,__:[8]},8,["loading"])])])),default:C((()=>[_(r,{ref:"ruleFormRef",model:e.form,"label-position":"top",rules:e.rules},{default:C((()=>[_(i,{label:"密钥",prop:"secret"},{default:C((()=>[_(s,{modelValue:e.form.secret,"onUpdate:modelValue":n[0]||(n[0]=n=>e.form.secret=n),placeholder:"请输入密钥",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),S("div",null,[n[4]||(n[4]=S("p",null,"密钥类型",-1)),S("div",Ze,[(x(!0),$(L,null,D(e.$config.secretTypeList,((n,t)=>(x(),$("div",{class:U(["page-icon flex-column-center pointer",{active:t==e.form.id}]),key:n.value,onClick:o=>e.handleSelect(n,t)},[S("img",{src:e.getIcon(n.value)},null,8,nn),S("span",null,M(n.label),1)],10,en)))),128))])]),"0"!==e.form.id?(x(),$("div",tn,M(e.form.desc),1)):(x(),$("div",on,[n[5]||(n[5]=T(" 像素格子会员版本分为标准版（免费），专业版以及高级版，具体详情可在 ")),S("span",{style:{color:"#0052d9"},class:"pointer",onClick:n[1]||(n[1]=(...n)=>e.handleToPrice&&e.handleToPrice(...n))},"价格页面"),n[6]||(n[6]=T(" 中查看 "))]))])),_:1},8,["modelValue","before-close"])}],["__scopeId","data-v-623a6ad3"]]);const sn=u({name:"SettingsDialog",components:{},props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(e,n){let{proxy:t}=d();const o=H();let a=p({dialogVisible:e.visible,TriggerTime:[{label:"2秒后",value:2},{label:"3秒后",value:3},{label:"4秒后",value:4},{label:"5秒后",value:5}],pindouBrandList:[]}),l={handleClose(){a.dialogVisible=!1,n.emit("close")},handleChange:(e,n,a="")=>"autoTheme"===n?t.$utils.cache.settings.set(JSON.stringify(o.settingsOption)):""===a&&o.checkVipFunction(n)?o.settingsOption[n]=!e:(""!==a?o.settingsOption[n].forEach((n=>{n.key===a&&(n.color=A(O(e)))})):o.settingsOption[n]=e,void t.$utils.cache.settings.set(JSON.stringify(o.settingsOption))),handleCommand(e){o.checkVipFunction("autoBackup")||(o.settingsOption.autoBackupTime=e,t.$utils.cache.settings.set(JSON.stringify(o.settingsOption)))},handlePindouCommand(e){o.settingsOption.defaultPindou=e,t.$utils.cache.settings.set(JSON.stringify(o.settingsOption))}};return g((()=>{let e=t.$utils.cache.pindou.get();e&&(a.pindouBrandList=JSON.parse(e))})),r(i(i({},f(a)),l),{editSpaceStore:o})}}),rn={class:"content scrollbar"},cn={class:"flex-between full-w"},dn={class:"flex-between full-w"},un={class:"flex-between full-w",style:{height:"32px"}},pn={class:"el-dropdown-link"},gn={class:"flex-between full-w",style:{height:"32px"}},mn={class:"el-dropdown-link"};const fn=u({name:"HomeHeader",components:{DonateDialog:We,AddLinkOrDonateDialog:Xe,SettingsDialog:fe(sn,[["render",function(e,n,t,o,a,l){const s=w("el-switch"),i=w("el-divider"),r=w("ArrowDown"),c=w("el-icon"),d=w("el-dropdown-item"),u=w("el-dropdown-menu"),p=w("el-dropdown"),g=w("el-dialog");return x(),I(g,{modelValue:e.dialogVisible,"onUpdate:modelValue":n[4]||(n[4]=n=>e.dialogVisible=n),title:"设 置",width:350,"before-close":e.handleClose,class:"z-dialog",center:""},{default:C((()=>[S("div",rn,[S("div",cn,[n[5]||(n[5]=S("p",null,"智能主题",-1)),_(s,{modelValue:e.editSpaceStore.settingsOption.autoTheme,"onUpdate:modelValue":n[0]||(n[0]=n=>e.editSpaceStore.settingsOption.autoTheme=n),onChange:n[1]||(n[1]=n=>e.handleChange(n,"autoTheme"))},null,8,["modelValue"])]),_(i,{"border-style":"dashed"}),S("div",dn,[n[6]||(n[6]=S("p",null,"自动备份",-1)),_(s,{modelValue:e.editSpaceStore.settingsOption.autoBackup,"onUpdate:modelValue":n[2]||(n[2]=n=>e.editSpaceStore.settingsOption.autoBackup=n),onChange:n[3]||(n[3]=n=>e.handleChange(n,"autoBackup"))},null,8,["modelValue"])]),S("div",un,[n[7]||(n[7]=S("p",null,"自动备份时间",-1)),_(p,{onCommand:e.handleCommand,disabled:!e.editSpaceStore.settingsOption.autoBackup},{dropdown:C((()=>[_(u,null,{default:C((()=>[(x(!0),$(L,null,D(e.TriggerTime,(e=>(x(),I(d,{key:e.value,command:e.value},{default:C((()=>[T(M(e.label),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:C((()=>{var n;return[S("span",pn,[T(M(null==(n=e.TriggerTime.find((n=>n.value==e.editSpaceStore.settingsOption.autoBackupTime)))?void 0:n.label)+" ",1),_(c,null,{default:C((()=>[_(r)])),_:1})])]})),_:1},8,["onCommand","disabled"])]),_(i,{"border-style":"dashed"}),S("div",gn,[n[8]||(n[8]=S("p",null,"默认拼豆品牌",-1)),_(p,{onCommand:e.handlePindouCommand,"max-height":200},{dropdown:C((()=>[_(u,null,{default:C((()=>[(x(!0),$(L,null,D(e.pindouBrandList,(e=>(x(),I(d,{key:e.value,command:e.value},{default:C((()=>[T(M(e.label),1)])),_:2},1032,["command"])))),128))])),_:1})])),default:C((()=>{var n;return[S("span",mn,[T(M(null==(n=e.pindouBrandList.find((n=>n.value==e.editSpaceStore.settingsOption.defaultPindou)))?void 0:n.label)+" ",1),_(c,null,{default:C((()=>[_(r)])),_:1})])]})),_:1},8,["onCommand"])])])])),_:1},8,["modelValue","before-close"])}],["__scopeId","data-v-1d57761f"]]),ValidateSecretDialog:ln},props:{},emits:["changeLanguage","changeTheme"],setup(e,n){const{proxy:t}=d(),{locale:o}=B(),a=H();let l=p({donateVisible:!1,avatarUrl:"",addVisible:!1,addType:"",addTitle:"",isShowMessage:!1,validateVisible:!1}),s={getUserAvatar:h((()=>a.userData.avatar&&""!==a.userData.avatar?a.userData.avatar.startsWith("http")?a.userData.avatar:`${t.$config.HUAWEI_OBS_CONFIG.HOST}${a.userData.avatar}`:"0"==a.userData.sex?he:ve)),requireLogo:h((()=>P()?new URL(`/${P()}/logo.png`,window.location.href).href:new URL("/logo.png",window.location.href).href)),getUserVip:h((()=>{var e;return a.userData&&(null==(e=a.userData)?void 0:e.vip)&&""!==a.userData.vip&&a.versionInfoData?a.versionInfoData[Number(a.userData.vip)]:{label:"标准版",type:"success"}})),getUserVipEndAt:h((()=>{var e;return a.userData&&(null==(e=a.userData)?void 0:e.vipEndAt)&&"0"!==a.userData.vipEndAt?`版本有效期：${a.userData.vipEndAt.split(" ")[0]}`:"版本有效期：永久"}))},u={handleCommand(e){o.value=e,t.$utils.cache.lang.set(e),a.lang=e,n.emit("changeLanguage")},changeTheme(){n.emit("changeTheme")},handleDownloadClient(){if("null"===a.clientDownloadLink)return t.$message.info("暂无下载链接");window.open(a.clientDownloadLink,"_blank")},handleAdd(e,n){l.addVisible=!0,l.addType=e,l.addTitle=n},handleUpdateUser(e,n,o){let l=j((new Date).getTime()+2592e6*e.exp);const s=t.$bmob.Query("User");s.set("id",a.userData.objectId),s.set("vipEndAt",l),s.set("vip",e.version),s.save().then((s=>{t.$message.success("校验成功"),a.userData.vip=e.version,a.userData.vipEndAt=l,a.saveUserInfo(a.userData),n.confirmButtonLoading=!1,n.confirmButtonText="确 认",o()})).catch((e=>{n.confirmButtonText="确 认",t.$message.error("校验失败，请联系作者"),n.confirmButtonLoading=!1,o()}))},handleUpdateKey(e,n,o){const l=t.$bmob.Query("Key");l.set("id",e.objectId),l.set("isUse","1"),l.set("userId",a.userData.uid),l.save().then((t=>{u.handleUpdateUser(e,n,o)})).catch((e=>{n.confirmButtonText="确 认",n.confirmButtonLoading=!1,t.$message.error("校验失败，请重试")}))},handleVerifyKey(){a.checkIsLogin()||q.prompt("请输入密钥","校验密钥",{confirmButtonText:"确 认",cancelButtonText:"取 消",showCancelButton:!1,inputErrorMessage:"验证失败，请重试",beforeClose:(e,n,o)=>{if("confirm"===e){if(""===n.inputValue||!n.inputValue)return t.$message.warning("请输入密钥");n.confirmButtonLoading=!0,n.confirmButtonText="正在校验...";const e=t.$bmob.Query("Key");e.equalTo("isUse","==","0"),e.equalTo("key","==",n.inputValue),e.select("objectId","key","exp","version"),e.limit(1),e.find(!1).then((e=>{if(!e.length)return n.confirmButtonLoading=!1,n.confirmButtonText="确 认",t.$message.error("校验失败，密钥不存在或已被使用");u.handleUpdateKey(e[0],n,o)})).catch((e=>{t.$message.error("校验失败，请联系作者"),n.confirmButtonText="确 认",n.confirmButtonLoading=!1}))}else o()}}).then((async({value:e})=>{})).catch((e=>{}))},getMessage(){if(a.isLogin&&a.userData){const e=t.$bmob.Query("Message");e.equalTo("isRead","==","0");const n=e.equalTo("userId","==",a.userData.uid),o=e.equalTo("userId","==","0");e.or(n,o),e.limit(1),e.find(!1).then((e=>{e.length?l.isShowMessage=!0:l.isShowMessage=!1})).catch((e=>{l.isShowMessage=!1}))}},handleOpenMessage(){l.isShowMessage=!1,t.$router.push({path:"/message"})}};return g((()=>{u.getMessage()})),r(i(r(i(i(i({},f(l)),u),function(){const{proxy:e}=d();return{ScreenFull:()=>{if(!ze.isEnabled)return c.warning(e.$t("message.fullscreenError")),!1;ze.toggle()}}}()),{checkIsClientEnv:m,checkIsDevelopEnv:F,checkDate:P}),s),{editSpaceStore:a})}}),hn={class:"full-w home-header"},bn={class:"flex-start",style:{gap:"10px"}},vn={class:"image-slot"},yn=["src"],kn={class:"isShowWebTitle"},wn={class:"flex-end",style:{gap:"20px"}},xn={class:"flex-center header-menu",style:{gap:"20px"}},In=["innerHTML"],Cn=["innerHTML"],Sn=["innerHTML"],_n=["innerHTML"],Tn=["innerHTML"],$n=["innerHTML"],Ln=["innerHTML"],Vn=["innerHTML"],Dn={class:"flex-center header-hide-menu",style:{gap:"20px"}},Un=["innerHTML"],En={class:"flex-center",style:{"font-size":"16px",gap:"10px"}},Mn=["innerHTML"],Hn={class:"flex-center",style:{"font-size":"16px",gap:"10px"}},zn=["innerHTML"],jn={class:"flex-center",style:{"font-size":"16px",gap:"10px"}},An=["innerHTML"],On={class:"flex-center",style:{"font-size":"16px",gap:"10px"}},Bn=["innerHTML"],Fn={class:"flex-center",style:{"font-size":"16px",gap:"10px"}},Pn=["innerHTML"],qn=["innerHTML"],Qn={class:"flex-center",style:{"font-size":"16px",gap:"10px"}},Nn=["innerHTML"],Rn={class:"flex-center",style:{"font-size":"16px",gap:"10px"}},Kn=["innerHTML"];var Wn=fe(fn,[["render",function(e,n,t,o,a,l){const s=w("el-image"),i=w("el-tag"),r=w("el-tooltip"),c=w("el-badge"),d=w("el-dropdown-item"),u=w("el-dropdown-menu"),p=w("el-dropdown"),g=w("User"),m=w("el-icon"),f=w("el-avatar"),h=w("DonateDialog"),b=w("AddLinkOrDonateDialog"),v=w("SettingsDialog"),y=w("ValidateSecretDialog");return x(),$(L,null,[S("div",hn,[S("div",bn,[_(s,{src:e.requireLogo,fit:"contain",class:"pointer",onClick:n[0]||(n[0]=n=>e.$router.push("/about"))},{error:C((()=>[S("div",vn,[S("img",{src:we||xe},null,8,yn)])])),_:1},8,["src"]),S("h1",kn,M(e.$t("message.webTitle")),1),_(r,{content:e.getUserVipEndAt,placement:"bottom"},{default:C((()=>[_(i,{type:e.getUserVip.type,effect:"dark",class:"pointer isShowWebVersion",style:{"margin-top":"2px"}},{default:C((()=>[T(M(e.getUserVip.label),1)])),_:1},8,["type"])])),_:1},8,["content"])]),S("div",wn,[S("div",xn,[S("i",{innerHTML:e.$iconSvg.price,onClick:n[1]||(n[1]=n=>e.$router.push("/price")),style:{"font-size":"20px"},class:"el-icon"},null,8,In),e.editSpaceStore.isLogin?(x(),I(c,{key:0,"is-dot":"",hidden:!e.isShowMessage,style:{height:"20px"}},{default:C((()=>[S("i",{innerHTML:e.$iconSvg.message,class:"el-icon",style:{"font-size":"20px"},onClick:n[2]||(n[2]=(...n)=>e.handleOpenMessage&&e.handleOpenMessage(...n))},null,8,Cn)])),_:1},8,["hidden"])):V("",!0),S("i",{innerHTML:e.$iconSvg.key,class:"el-icon",style:{"font-size":"20px"},onClick:n[3]||(n[3]=n=>e.editSpaceStore.validateVisible=!0)},null,8,Sn),S("i",{innerHTML:e.$iconSvg.settings,class:"el-icon",style:{"font-size":"20px"},onClick:n[4]||(n[4]=n=>e.editSpaceStore.settingVisible=!0)},null,8,_n),e.editSpaceStore.themeValue?(x(),$("i",{key:1,innerHTML:e.$iconSvg.moon,class:"el-icon",style:{"font-size":"20px"},onClick:n[5]||(n[5]=(...n)=>e.changeTheme&&e.changeTheme(...n))},null,8,Tn)):(x(),$("i",{key:2,innerHTML:e.$iconSvg.sun,class:"el-icon",style:{"font-size":"20px"},onClick:n[6]||(n[6]=(...n)=>e.changeTheme&&e.changeTheme(...n))},null,8,$n)),S("i",{innerHTML:e.$iconSvg.cart,class:"el-icon",style:{"font-size":"20px"},onClick:n[7]||(n[7]=n=>e.editSpaceStore.donateVisible=!0)},null,8,Ln),S("i",{innerHTML:e.$iconSvg.fullscreen,class:"el-icon",style:{"font-size":"20px"},onClick:n[8]||(n[8]=(...n)=>e.ScreenFull&&e.ScreenFull(...n))},null,8,Vn)]),S("div",Dn,[_(p,{trigger:"click"},{dropdown:C((()=>[_(u,null,{default:C((()=>[_(d,{onClick:n[9]||(n[9]=n=>e.$router.push("/price"))},{default:C((()=>[S("div",En,[S("i",{innerHTML:e.$iconSvg.price,style:{"font-size":"20px"},class:"el-icon"},null,8,Mn),n[19]||(n[19]=S("span",null,"价 格",-1))])])),_:1}),_(d,{onClick:e.handleOpenMessage},{default:C((()=>[S("div",Hn,[e.editSpaceStore.isLogin?(x(),I(c,{key:0,"is-dot":"",hidden:!e.isShowMessage,style:{height:"20px"}},{default:C((()=>[S("i",{innerHTML:e.$iconSvg.message,class:"el-icon",style:{"font-size":"20px"}},null,8,zn)])),_:1},8,["hidden"])):V("",!0),n[20]||(n[20]=S("span",null,"消 息",-1))])])),_:1},8,["onClick"]),_(d,{onClick:n[10]||(n[10]=n=>e.editSpaceStore.validateVisible=!0)},{default:C((()=>[S("div",jn,[S("i",{innerHTML:e.$iconSvg.key,class:"el-icon",style:{"font-size":"20px"}},null,8,An),n[21]||(n[21]=S("span",null,"密 钥",-1))])])),_:1}),_(d,{onClick:n[11]||(n[11]=n=>e.editSpaceStore.settingVisible=!0)},{default:C((()=>[S("div",On,[S("i",{innerHTML:e.$iconSvg.settings,class:"el-icon",style:{"font-size":"20px"}},null,8,Bn),n[22]||(n[22]=S("span",null,"设 置",-1))])])),_:1}),_(d,{onClick:e.changeTheme},{default:C((()=>[S("div",Fn,[e.editSpaceStore.themeValue?(x(),$("i",{key:0,innerHTML:e.$iconSvg.moon,class:"el-icon",style:{"font-size":"20px"}},null,8,Pn)):(x(),$("i",{key:1,innerHTML:e.$iconSvg.sun,class:"el-icon",style:{"font-size":"20px"}},null,8,qn)),S("span",null,M(e.editSpaceStore.themeValue?"深 色":"浅 色"),1)])])),_:1},8,["onClick"]),_(d,{onClick:n[12]||(n[12]=n=>e.editSpaceStore.donateVisible=!0)},{default:C((()=>[S("div",Qn,[S("i",{innerHTML:e.$iconSvg.cart,class:"el-icon",style:{"font-size":"20px"}},null,8,Nn),n[23]||(n[23]=S("span",null,"捐 赠",-1))])])),_:1}),_(d,{onClick:e.ScreenFull},{default:C((()=>[S("div",Rn,[S("i",{innerHTML:e.$iconSvg.fullscreen,class:"el-icon",style:{"font-size":"20px"}},null,8,Kn),n[24]||(n[24]=S("span",null,"全 屏",-1))])])),_:1},8,["onClick"])])),_:1})])),default:C((()=>[S("i",{innerHTML:e.$iconSvg.more,class:"el-icon",style:{"font-size":"20px"}},null,8,Un)])),_:1})]),e.editSpaceStore.isLogin?(x(),I(f,{key:0,size:30,src:e.getUserAvatar,class:"pointer box-shadow",style:{"min-width":"30px"},onClick:n[13]||(n[13]=n=>e.$router.push({name:"user",params:{username:e.editSpaceStore.userData.username}}))},{default:C((()=>[_(m,null,{default:C((()=>[_(g)])),_:1})])),_:1},8,["src"])):(x(),I(f,{key:1,size:34,class:"pointer",style:{"font-size":"12px","min-width":"34px"},onClick:n[14]||(n[14]=n=>e.$router.push("/login"))},{default:C((()=>n[25]||(n[25]=[T(" 登录 ")]))),_:1,__:[25]}))])]),(x(),I(Q,{to:"body"},[e.editSpaceStore.donateVisible?(x(),I(h,{key:0,visible:e.editSpaceStore.donateVisible,onClose:n[15]||(n[15]=n=>e.editSpaceStore.donateVisible=!1)},null,8,["visible"])):V("",!0),e.addVisible?(x(),I(b,{key:1,visible:e.addVisible,type:e.addType,title:e.addTitle,onClose:n[16]||(n[16]=n=>e.addVisible=!1)},null,8,["visible","type","title"])):V("",!0),e.editSpaceStore.settingVisible?(x(),I(v,{key:2,visible:e.editSpaceStore.settingVisible,onClose:n[17]||(n[17]=n=>e.editSpaceStore.settingVisible=!1)},null,8,["visible"])):V("",!0),e.editSpaceStore.validateVisible?(x(),I(y,{key:3,visible:e.editSpaceStore.validateVisible,onClose:n[18]||(n[18]=n=>e.editSpaceStore.validateVisible=!1)},null,8,["visible"])):V("",!0)]))],64)}],["__scopeId","data-v-1309d430"]]);var Gn=fe({},[["render",function(e,n){return x(),$(L,null,D(50,(e=>S("div",{key:e,class:"snowflake"}))),64)}],["__scopeId","data-v-46006bba"]]);const Jn={class:"deng-box1"};var Xn=fe({},[["render",function(e,n){return x(),$("div",Jn,n[0]||(n[0]=[N('<div class="deng" data-v-cc29dbec><div class="xian" data-v-cc29dbec></div><div class="deng-a" data-v-cc29dbec><div class="deng-b" data-v-cc29dbec><div class="deng-t" data-v-cc29dbec>春</div></div></div><div class="shui shui-a" data-v-cc29dbec><div class="shui-c" data-v-cc29dbec></div><div class="shui-b" data-v-cc29dbec></div></div></div>',1)]))}],["__scopeId","data-v-cc29dbec"]]);const Yn=u({name:"HomeBottomTabbar",components:{},props:{},setup(e,n){const t=R(),o=K();let a=p({currentMenu:"project"}),l={handleChange(){t.push({name:a.currentMenu})}};return g((()=>{a.currentMenu=o.name})),W((()=>{})),r(i(i({},f(a)),l),{checkDate:P})}}),Zn=["innerHTML"],et=["innerHTML"],nt=["innerHTML"],tt=["innerHTML"],ot=["innerHTML"];var at=fe(Yn,[["render",function(e,n,t,o,a,l){const s=w("van-tabbar-item"),i=w("van-tabbar");return x(),I(i,{modelValue:e.currentMenu,"onUpdate:modelValue":n[0]||(n[0]=n=>e.currentMenu=n),onChange:e.handleChange},{default:C((()=>[_(s,{name:"about",icon:"guide-o"},{icon:C((()=>[S("i",{innerHTML:e.$iconSvg.about,style:{width:"22px",height:"22px","font-size":"22px"},class:"el-icon"},null,8,Zn)])),default:C((()=>[n[1]||(n[1]=S("span",null,"关于",-1))])),_:1,__:[1]}),_(s,{name:"project",icon:"home-o"},{icon:C((()=>[S("i",{innerHTML:e.$iconSvg.project,style:{width:"22px",height:"22px","font-size":"22px"},class:"el-icon"},null,8,et)])),default:C((()=>[n[2]||(n[2]=S("span",null,"项目",-1))])),_:1,__:[2]}),_(s,{name:"module",icon:"apps-o"},{icon:C((()=>[S("i",{innerHTML:e.$iconSvg.moduleShop,style:{width:"22px",height:"22px","font-size":"22px"},class:"el-icon"},null,8,nt)])),default:C((()=>[n[3]||(n[3]=S("span",null,"资源",-1))])),_:1,__:[3]}),_(s,{name:"pindou",icon:"points"},{icon:C((()=>[S("i",{innerHTML:e.$iconSvg.pindouShop,style:{width:"22px",height:"22px","font-size":"22px"},class:"el-icon"},null,8,tt)])),default:C((()=>[n[4]||(n[4]=S("span",null,"拼豆",-1))])),_:1,__:[4]}),_(s,{name:"tool",icon:"cluster-o"},{icon:C((()=>[S("i",{innerHTML:e.$iconSvg.tool,style:{width:"22px",height:"22px","font-size":"22px"},class:"el-icon"},null,8,ot)])),default:C((()=>[n[5]||(n[5]=S("span",null,"工具",-1))])),_:1,__:[5]})])),_:1},8,["modelValue","onChange"])}],["__scopeId","data-v-26a1a9fa"]]);const lt=u({name:"HomeSideNav",components:{},props:{},setup(e,n){const t=R(),o=H();let a=p({isCollapse:!1,menuList:[]}),l={handleChangeSize(){if(window.innerWidth<1100){if(a.isCollapse)return;a.isCollapse=!0}else{if(!a.isCollapse)return;a.isCollapse=!1}}},s=t.options.routes[1].children.map(((e,n)=>{let t=null;return n<6&&(t={path:`/${e.path}`,title:e.meta.title,icon:e.meta.icon}),t}));a.menuList=s.filter((e=>null!==e));const c=((e,n)=>{let t;return function(){t&&clearTimeout(t),t=setTimeout((()=>{e()}),n)}})(l.handleChangeSize,500);return g((()=>{window.addEventListener("resize",c),l.handleChangeSize()})),W((()=>{window.removeEventListener("resize",c)})),r(i(i({},f(a)),l),{checkDate:P,editSpaceStore:o})}}),st=["innerHTML"],it={style:{"margin-left":"10px"}};var rt=fe(lt,[["render",function(e,n,t,o,a,l){const s=w("el-icon"),i=w("el-menu-item"),r=w("DArrowRight"),c=w("DArrowLeft"),d=w("el-menu");return x(),$(L,null,[_(d,{"default-active":e.$route.path,router:"",collapse:e.isCollapse,class:"scrollbar scrollY",style:{"min-width":"60px",position:"relative"}},{default:C((()=>[(x(!0),$(L,null,D(e.menuList,(n=>(x(),I(i,{key:n.path,index:n.path,class:U({active:n.path===e.$route.path,active1:e.$route.path.includes("/draw")&&"/project"===n.path}),style:{"justify-content":"center"}},{title:C((()=>[S("p",it,M(e.$t(`message.${n.title}`)),1)])),default:C((()=>[e.checkDate()?(x(),$("i",{key:1,innerHTML:e.$iconSvg[`${e.checkDate()}-${n.icon}`],style:{width:"20px",height:"20px","font-size":"20px"},class:"el-icon"},null,8,st)):(x(),I(s,{key:0,size:"16",style:{width:"16px"}},{default:C((()=>[(x(),I(G(n.icon),{style:{width:"16px",height:"16px"}}))])),_:2},1024))])),_:2},1032,["index","class"])))),128)),S("div",{class:"collapseIcon flex-center",onClick:n[0]||(n[0]=n=>e.isCollapse=!e.isCollapse)},[e.isCollapse?(x(),I(s,{key:0},{default:C((()=>[_(r)])),_:1})):(x(),I(s,{key:1},{default:C((()=>[_(c)])),_:1}))])])),_:1},8,["default-active","collapse"]),(x(),I(Q,{to:"body"}))],64)}],["__scopeId","data-v-596e09d4"]]);var ct=fe(u({name:"HomeRouter",components:{},emits:[],props:{},setup(e,n){let t=H(),o=p({cacheRouter:["about","work","project","pindou","module","price","draw","tool","customPindou"]});return r(i(i({},f(o)),{}),{editSpaceStore:t})}}),[["render",function(e,n,t,o,a,l){const s=w("router-view"),i=w("el-main");return x(),I(i,{class:U(["routerview-right scrollbar",{relative:!e.editSpaceStore.isFullWork}])},{default:C((()=>[_(s,null,{default:C((({Component:n})=>[(x(),I(J,{include:e.cacheRouter},[(x(),I(G(n)))],1032,["include"]))])),_:1})])),_:1},8,["class"])}],["__scopeId","data-v-7afa9324"]]);const dt=u({name:"Loading",components:{},emits:[],props:{},setup(e,n){let t=H(),o=p({color:["primary","success","danger","warning"],randomStatus:0}),a={handleChange(){o.randomStatus=Math.floor(Math.random()*o.color.length)}};return g((()=>{o.randomStatus=Math.floor(Math.random()*o.color.length),document.body.addEventListener("click",a.handleChange),setInterval((()=>{a.handleChange()}),1e3)})),W((()=>{document.body.removeEventListener("click",a.handleChange)})),r(i(i({},f(o)),a),{editSpaceStore:t,isSafari:X,isSupportPaintWorklet:Y})}}),ut={key:0,class:"loader"},pt={key:1,class:"flex-column-center full-h",style:{gap:"10px",width:"300px"}};var gt=fe(dt,[["render",function(e,n,t,o,a,l){const s=w("px-progress");return e.isSupportPaintWorklet()?(x(),$("div",pt,[_(s,{class:"full-w",percentage:100,"stroke-width":24,showText:!1,striped:"","striped-flow":"",duration:6,status:e.color[e.randomStatus]},null,8,["status"]),n[0]||(n[0]=S("p",{style:{color:"#808080"}},"正在加载ing...",-1))])):(x(),$("div",ut))}],["__scopeId","data-v-0b7ad502"]]),mt={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};
/*! Element Plus v2.8.4 */const ft={name:"LoginDialog",props:{visible:{type:Boolean,default:!1}},components:{ForgetPasswordDialog:Ce},emits:["close"],setup(e,n){const t=Se(),o=H(),{proxy:a}=d();let l=p({loginInfo:{username:"",password:""},logonInfo:{username:"",password:"",sex:"0",nickname:""},isLogon:!1,isloading:!1,isRemeber:!1,forgetPasswordVisible:!1}),s={async handleQQLogin(){try{if(a.$utils.cache.qqInfo.get())return;const e=ie(location.href);if(!e.access_token)return;const n=await t.getOpenId(e.access_token);if(!n.data.content||!n.data)return;let l=n.data.content,i={accessToken:l.accessToken,openId:l.openId};a.$utils.cache.qqInfo.set(JSON.stringify(i));const r=l.userData;let c="QQ"+i.openId;i.password=a.$utils.secret.MD5(c);const d=a.$bmob.Query("User");d.equalTo("username","==",i.openId),d.equalTo("password","==",i.password),d.limit(1),d.select(...a.$config.UserField),d.find(!1).then((async e=>{if(e.length){if("0"===e[0].isEnable)return void a.$message.warning("账号异常，无法登陆");s.handleClose();let n=e[0];n.browserId||(n.browserId="0"),n.vip||(n.vip="0"),n.vipEndAt||(n.vipEndAt="0"),n.backupCount||(n.backupCount="0"),n.extraBackupCount||(n.extraBackupCount="0"),o.saveUserInfo(n),a.$message.success("登陆成功")}else s.handleQQLogon(i,r)})).catch((e=>{a.$message.error("登录失败")}))}catch(e){o.saveErrorToBmob("QQ登录",e)}},async handleQQLogon(e,n){l.logonInfo.username=e.openId,l.logonInfo.password=e.password,l.logonInfo.avatar=n.figureurl_2,l.logonInfo.nickname=n.nickname,l.logonInfo.sex="2"===n.gender_type?"0":"1";let t=Object.keys(l.logonInfo);const i=a.$bmob.Query("User");for(let o=0;o<t.length;o++){let e=t[o];i.set(e,l.logonInfo[e])}i.set("isGoogle","0"),i.set("platform","2"),i.set("vip","0"),i.set("vipEndAt","0"),i.set("browserId",o.browserId),i.set("backupCount","0"),i.set("avatarUpdatedAt",""),i.set("nameUpdatedAt",""),i.set("uid",v.v4()),i.set("isEnable","1");const r=a.$bmob.Query("User"),c=await r.count();i.set("rank",c.count+1),i.save().then((async e=>{l.logonInfo.objectId=e.objectId;try{l.logonInfo=await o.getRemoteUserInfo(a,e.objectId),s.handleClose(),o.saveUserInfo(l.logonInfo),a.$message.success("登录成功")}catch(n){delete l.logonInfo.password,s.handleClose(),o.saveUserInfo(l.logonInfo)}})).catch((e=>{a.$message.error("登录失败")}))},async handleqqLogin(){try{$e.Login.showPopup({appId:a.$config.QQ_APP_ID,redirectURI:"https://pm.zwpyyds.com/about"})}catch(e){}},handleGoogleLogin(e){const n=re(e.credential);l.isloading=!0;let t=n.sub,i="Google"+n.sub;const r=a.$bmob.Query("User");r.equalTo("username","==",t),r.equalTo("password","==",a.$utils.secret.MD5(i)),r.limit(1),r.select(...a.$config.UserField),r.find(!1).then((async e=>{if(e.length){if("0"===e[0].isEnable)return void a.$message.warning("账号异常，无法登陆");s.handleClose(),l.isloading=!1;let n=e[0];n.browserId||(n.browserId="0"),n.vip||(n.vip="0"),n.vipEndAt||(n.vipEndAt="0"),n.backupCount||(n.backupCount="0"),n.extraBackupCount||(n.extraBackupCount="0"),o.saveUserInfo(n),a.$message.success("登陆成功")}else{l.logonInfo.username=t,l.logonInfo.password=i,l.logonInfo.avatar=n.picture,l.logonInfo.nickname=n.family_name+n.given_name;let e=Object.keys(l.logonInfo);for(let n=0;n<e.length;n++){let t=e[n];if("password"===t){let e=a.$utils.secret.MD5(l.logonInfo[t]);r.set(t,e)}else r.set(t,l.logonInfo[t])}r.set("platform","1"),r.set("isGoogle","1"),r.set("vip","0"),r.set("vipEndAt","0"),r.set("browserId",o.browserId),r.set("backupCount","0"),r.set("avatarUpdatedAt",""),r.set("nameUpdatedAt",""),r.set("uid",v.v4()),r.set("isEnable","1");const c=a.$bmob.Query("User"),d=await c.count();r.set("rank",d.count+1),r.save().then((async e=>{l.logonInfo.objectId=e.objectId;try{l.logonInfo=await o.getRemoteUserInfo(a,e.objectId),s.handleClose(),l.isloading=!1,o.saveUserInfo(l.logonInfo),a.$message.success("登录成功")}catch(n){delete l.logonInfo.password,s.handleClose(),o.saveUserInfo(l.logonInfo),l.isloading=!1}})).catch((e=>{l.isloading=!1,a.$message.error("登录失败")}))}})).catch((e=>{l.isloading=!1,a.$message.error("登录失败")}))},handleChangeRemeber(e){l.isRemeber=e.target.checked},handleGo(){s.handleClose(),a.$router.push("/project")},handleClose(){n.emit("close"),setTimeout((()=>{l.isLogon=!1}),1e3)},handleCheck(e){let n=!1;for(let t in e)if(""===e[t]){n=!0;break}return n},handleRemeber(){if(l.isRemeber){let e=i({},l.loginInfo);e.password=a.$utils.secret.Encrypt(e.password),a.$utils.cache.user.set(JSON.stringify(e))}else a.$utils.cache.user.remove()},handleLogin(){if(s.handleCheck(l.loginInfo))return a.$message.warning("请填写完整信息");l.isloading=!0;const e=a.$bmob.Query("User");e.equalTo("username","==",l.loginInfo.username),e.equalTo("password","==",a.$utils.secret.MD5(l.loginInfo.password)),e.limit(1),e.select(...a.$config.UserField),e.find(!1).then((e=>{if(l.isloading=!1,e.length){if("0"===e[0].isEnable)return void a.$message.warning("账号异常，无法登陆");s.handleRemeber(),s.handleClose();let n=e[0];return n.browserId||(n.browserId="0"),n.vip||(n.vip="0"),n.vipEndAt||(n.vipEndAt="0"),n.backupCount||(n.backupCount="0"),n.extraBackupCount||(n.extraBackupCount="0"),o.saveUserInfo(n),o.getProjectList(),void a.$message.success("登陆成功")}a.$message.warning("用户名或密码错误")})).catch((e=>{l.isloading=!1,a.$message.error("登录失败")}))},async handleLogon(){try{const e=ke.validateEmpty(l.logonInfo),n=ke.validateUserName(l.logonInfo.username),t=ke.validateNickname(l.logonInfo.nickname),s=ke.validatePwd(l.logonInfo.password);await Promise.all([e,n,s,t]).catch((e=>{throw a.$message.warning(e.message),new Error(e.message)})),l.isloading=!0;const i=a.$bmob.Query("User");i.equalTo("username","==",l.logonInfo.username),i.limit(1),i.select("username","browserId"),i.find().then((async e=>{if(e.results.length)return l.isloading=!1,a.$message.warning("用户名已存在");let n=Object.keys(l.logonInfo);for(let o=0;o<n.length;o++){let e=n[o];if("password"===e){let n=a.$utils.secret.MD5(l.logonInfo[e]);i.set(e,n)}else i.set(e,l.logonInfo[e])}i.set("platform","0"),i.set("isGoogle","0"),i.set("vip","0"),i.set("vipEndAt","0"),i.set("browserId",o.browserId),i.set("backupCount","0"),i.set("avatar",""),i.set("avatarUpdatedAt",""),i.set("nameUpdatedAt",""),i.set("uid",v.v4()),i.set("isEnable","1");const t=a.$bmob.Query("User"),s=await t.count();i.set("rank",s.count+1),i.save().then((async e=>{l.logonInfo.objectId=e.objectId;try{l.logonInfo=await o.getRemoteUserInfo(a,e.objectId),o.saveUserInfo(l.logonInfo),a.$message.success("注册成功"),l.isloading=!1}catch(n){delete l.logonInfo.password,l.logonInfo.avatar="",o.saveUserInfo(l.logonInfo),l.isloading=!1}})).catch((e=>{l.isloading=!1,a.$message.error("注册失败"),o.saveErrorToBmob("注册",e)}))})).catch((e=>{a.$message.error("注册失败"),o.saveErrorToBmob("注册",e)}))}catch(e){}finally{l.isloading=!1}}};return g((()=>{s.handleQQLogin()})),Z((()=>{if(l.isLogon)for(let e in l.logonInfo)l.logonInfo[e]="","sex"===e&&(l.logonInfo[e]="0")})),ee((()=>o.loginVisible),((e,n)=>{if(e){let e=a.$utils.cache.user.get();if(e){l.isRemeber=!0;let n=JSON.parse(e);n.password=a.$utils.secret.Decrypt(n.password),l.loginInfo=n}}})),r(i(i({},f(l)),s),{editSpaceStore:o,checkIsPGComEnv:ne,checkIsClientEnv:m})}},ht={class:"login-dialog gs-filter"},bt={class:"flex-between login-dialog-header"},vt={key:0,class:"login-body flex-column-center"},yt={class:"input-search"},kt={class:"input-search"},wt={class:"flex-between full-w",style:{padding:"0 10px","font-size":"14px"}},xt={class:"flex"},It={class:"checkbox-container"},Ct=["checked"],St={class:"flex-center"},_t={class:"flex",style:{gap:"10px","font-size":"14px"}},Tt=["src"],$t={key:1,class:"login-body logon-body flex-column-center"},Lt={class:"input-search"},Vt={class:"input-search"},Dt={class:"input-search"},Ut={class:"sex-select flex-between"},Et=["src"],Mt=["src"],Ht={class:"flex",style:{gap:"10px","font-size":"14px"}},zt={class:"flex-between login-dialog-header"},jt={key:0,class:"welcome-body flex-column-center text-center"},At={key:1,class:"welcome-body flex-column-center text-center"};const Ot=u({name:"home",components:{ElConfigProvider:ce,HomeHeader:Wn,HomeBottomTabbar:at,HomeSideNav:rt,HomeRouter:ct,NoticeDialog:Ie,LoginDialog:fe(ft,[["render",function(e,n,t,o,a,l){const s=w("CloseBold"),i=w("el-icon"),r=w("User"),c=w("Lock"),d=w("el-link"),u=w("el-button"),p=w("GoogleLogin"),g=w("EditPen"),m=w("ForgetPasswordDialog");return x(),I(se,{name:"xpDialog"},{default:C((()=>[te(S("div",ht,[o.editSpaceStore.isLogin?o.editSpaceStore.isLogin&&e.isLogon?(x(),$(L,{key:1},[S("div",zt,[n[23]||(n[23]=S("p",null,"欢 迎",-1)),_(i,{onClick:oe(e.handleClose,["stop"])},{default:C((()=>[_(s)])),_:1},8,["onClick"])]),o.editSpaceStore.userData.rank&&o.editSpaceStore.userData.rank>0?(x(),$("div",jt," 欢迎加入像素格子，您将成为像素格子的第"+M(o.editSpaceStore.userData.rank)+"位用户，快去创作属于自己的像素艺术吧！ ",1)):(x(),$("div",At," 欢迎加入像素格子，快去创作属于自己的像素艺术吧！ ")),_(u,{type:"primary",round:"",class:"full-w",onClick:e.handleGo},{default:C((()=>n[24]||(n[24]=[T("去创作")]))),_:1,__:[24]},8,["onClick"])],64)):V("",!0):(x(),$(L,{key:0},[S("div",bt,[S("p",null,M(e.isLogon?"注 册":"登 录"),1),_(i,{onClick:oe(e.handleClose,["stop"])},{default:C((()=>[_(s)])),_:1},8,["onClick"])]),e.isLogon?(x(),$("div",$t,[S("div",Lt,[_(i,null,{default:C((()=>[_(r)])),_:1}),te(S("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=n=>e.logonInfo.username=n),placeholder:"请输入用户名"},null,512),[[ae,e.logonInfo.username]])]),S("div",Vt,[_(i,null,{default:C((()=>[_(c)])),_:1}),te(S("input",{type:"password","onUpdate:modelValue":n[7]||(n[7]=n=>e.logonInfo.password=n),placeholder:"请输入密码"},null,512),[[ae,e.logonInfo.password]])]),S("div",Dt,[_(i,null,{default:C((()=>[_(g)])),_:1}),te(S("input",{"onUpdate:modelValue":n[8]||(n[8]=n=>e.logonInfo.nickname=n),placeholder:"请输入昵称"},null,512),[[ae,e.logonInfo.nickname]])]),S("div",Ut,[S("div",{class:U(["sex-item",{active:"0"==e.logonInfo.sex}]),onClick:n[9]||(n[9]=n=>e.logonInfo.sex="0")},[S("img",{src:he||be},null,8,Et)],2),S("div",{class:U(["sex-item",{active:"1"==e.logonInfo.sex}]),onClick:n[10]||(n[10]=n=>e.logonInfo.sex="1")},[S("img",{src:ve||ye},null,8,Mt)],2)]),_(u,{type:"primary",round:"",class:"full-w",onClick:e.handleLogon,loading:e.isloading},{default:C((()=>n[20]||(n[20]=[T("注 册")]))),_:1,__:[20]},8,["onClick","loading"]),S("p",Ht,[n[22]||(n[22]=T("已有账号？ ")),_(d,{type:"success",underline:!1,onClick:n[11]||(n[11]=n=>e.isLogon=!1)},{default:C((()=>n[21]||(n[21]=[T("去登录")]))),_:1,__:[21]})])])):(x(),$("div",vt,[S("div",yt,[_(i,null,{default:C((()=>[_(r)])),_:1}),te(S("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=n=>e.loginInfo.username=n),placeholder:"请输入用户名"},null,512),[[ae,e.loginInfo.username]])]),S("div",kt,[_(i,null,{default:C((()=>[_(c)])),_:1}),te(S("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=n=>e.loginInfo.password=n),placeholder:"请输入密码"},null,512),[[ae,e.loginInfo.password]])]),S("div",wt,[S("div",xt,[S("label",It,[S("input",{class:"custom-checkbox",checked:e.isRemeber,type:"checkbox",onChange:n[2]||(n[2]=(...n)=>e.handleChangeRemeber&&e.handleChangeRemeber(...n))},null,40,Ct),n[13]||(n[13]=S("span",{class:"checkmark"},null,-1))]),n[14]||(n[14]=T(" 记住我 "))]),S("div",St,[_(d,{type:"success",underline:!1,onClick:n[3]||(n[3]=n=>e.forgetPasswordVisible=!0)},{default:C((()=>n[15]||(n[15]=[T("忘记密码")]))),_:1,__:[15]})])]),_(u,{type:"primary",round:"",class:"full-w",onClick:e.handleLogin,loading:e.isloading},{default:C((()=>n[16]||(n[16]=[T("登 录")]))),_:1,__:[16]},8,["onClick","loading"]),S("p",_t,[n[18]||(n[18]=T("没有账号？ ")),_(d,{type:"success",underline:!1,onClick:n[4]||(n[4]=n=>e.isLogon=!0)},{default:C((()=>n[17]||(n[17]=[T("去注册")]))),_:1,__:[17]})]),!o.checkIsClientEnv()&&o.checkIsPGComEnv()?(x(),$("div",{key:0,class:"qq",onClick:n[5]||(n[5]=(...n)=>e.handleqqLogin&&e.handleqqLogin(...n))},[S("div",null,[S("img",{src:_e||Te,alt:"QQ登录"},null,8,Tt)]),n[19]||(n[19]=T(" 用QQ账号登录 "))])):V("",!0),o.checkIsClientEnv()?V("",!0):(x(),I(p,{key:1,callback:e.handleGoogleLogin,class:"scrollHidden",style:{"border-radius":"10px",padding:"2px"}},null,8,["callback"]))]))],64)),(x(),I(Q,{to:"body"},[e.forgetPasswordVisible?(x(),I(m,{key:0,style:{"z-index":"2001"},visible:e.forgetPasswordVisible,onClose:n[12]||(n[12]=n=>e.forgetPasswordVisible=!1)},null,8,["visible"])):V("",!0)]))],512),[[le,t.visible]])])),_:1})}],["__scopeId","data-v-558f1c06"]]),Loading:gt,Snow:Gn,Redbao:Xn},props:{},emits:[],setup(e,n){const{proxy:t}=d(),o=H();let a=p({locale:mt,notice:{id:"",title:"",content:"",isForceUpdate:"0"},noticeVisible:!1,loading:!0,isShowEffect:!1,autoThemeTimer:null});const l=h((()=>P().includes("christmas")?"Snow":P().includes("newyear")?"Redbao":"")),s=de({storageKey:"px-theme",valueDark:"dark",valueLight:"light"}),c=ue(s),u=()=>{const e=(new Date).getHours();e>=6&&e<18?(s.value=!1,o.themeValue=!1):(s.value=!0,o.themeValue=!0)};let b={changeTheme(){c(),o.themeValue=!o.themeValue},changeLanguage(){a.locale=mt,o.lang="zh",localStorage.setItem("px-lang",o.lang)},getBmobNoticeData(){const e=t.$bmob.Query("Notice");e.limit(1),e.equalTo("type","==","mobile"),e.equalTo("lang","==",t.$utils.cache.lang.get()),e.order("-updatedAt"),e.find().then((e=>{e.results.length&&(t.$utils.cache.isHideNotice.get()||t.$utils.cache.isHideNotice.set("0"),a.notice=e.results[0],t.$utils.cache.isHideNotice.get()!==a.notice.id&&(a.noticeVisible=!0))})).catch((e=>{b.getNoticeData()}))},getNoticeData(){pe.get(`${ge()}json/notice.json`).then((e=>{e.data.length>0&&(t.$utils.cache.isHideNotice.get()||t.$utils.cache.isHideNotice.set("0"),m()?a.notice=e.data[2]:a.notice=e.data[0],t.$utils.cache.isHideNotice.get()!==a.notice.id&&(a.noticeVisible=!0))})).catch((e=>{m()?a.notice={id:"1",title:"公告",content:"客户端异常，暂时无法使用！如长时间无法使用请联系作者\n<span style='color:green'>作者QQ：2152456816（Java）</span>",isForceUpdate:"1"}:a.notice={id:"1",title:"公告",content:"网站异常，暂时无法使用！如长时间无法使用请联系作者\n<span style='color:green'>作者QQ：2152456816（Java）</span>",isForceUpdate:"1"},a.noticeVisible=!0}))},getColorModules(){pe.get(`${ge()}json/color.json`).then((e=>{o.colorModules=e.data})).catch((e=>{}))},getOptionsData(){pe.get(`${ge()}json/option.json`).then((e=>{o.clientDownloadLink=e.data[0].url})).catch((e=>{}))},async getUserData(){let e=t.$utils.cache.userInfo.get();try{if(e){let n=JSON.parse(e).objectId,a=await o.getRemoteUserInfo(t,n);if(!a)return t.$message.warning("账号已过期，请重新登录"),void o.deleteUserInfo();if("0"===(null==a?void 0:a.isEnable))t.$message.warning("账号异常，已退出登录"),o.deleteUserInfo();else{if((null==a?void 0:a.browserId)||o.updateUserInfo(t,{browserId:o.browserId,vip:"0",vipEndAt:"0",backupCount:"0",extraBackupCount:"0"},(()=>{a.browserId=o.browserId,a.vip="0",a.vipEndAt="0",a.backupCount="0",a.extraBackupCount="0"})),(null==a?void 0:a.vipEndAt)&&"0"!==a.vipEndAt&&me(a.vipEndAt)<(new Date).getTime())return t.$message.warning("版本套餐已过期，请重新登录"),void o.updateUserInfo(t,{vip:"0",vipEndAt:"0"},(()=>{o.settingsOption.autoBackup=!1,t.$utils.cache.settings.set(JSON.stringify(o.settingsOption)),o.deleteUserInfo()}),(()=>o.deleteUserInfo()));a.vip||(a.vip="0"),a.vipEndAt||(a.vipEndAt="0"),a.backupCount||(a.backupCount="0"),a.extraBackupCount||(a.extraBackupCount="0"),o.saveUserInfo(a),o.getProjectList()}}}catch(n){t.$message.error("请重新登录"),o.deleteUserInfo()}finally{o.isCheckUser=!0}},getVersionInfo(){const e=t.$bmob.Query("Version");e.equalTo("platform","==","mobile"),e.find().then((e=>{e.results.length&&(o.versionInfoData=e.results.map((e=>r(i({},e),{fun:e.fun.split(",")}))))})).catch((e=>{b.getVersionData()}))},getVersionData(){pe.get(`${ge()}json/version.json`).then((e=>{o.versionInfoData=e.data.map((e=>r(i({},e),{fun:e.fun.split(",")})))})).catch((e=>{t.$message.error("网络异常，版本信息获取失败"),a.loading=!1}))}};return Z((()=>{a.loading||setTimeout((()=>{a.isShowEffect=!0}),2e3),o.isCheckUser&&o.versionInfoData&&(a.loading=!1)})),ee((()=>o.settingsOption.autoTheme),((e,n)=>{e?(a.autoThemeTimer&&clearInterval(a.autoThemeTimer),a.autoThemeTimer=setInterval(u,18e5)):a.autoThemeTimer&&clearInterval(a.autoThemeTimer)})),g((()=>{window.onbeforeunload=function(e){e.returnValue="1111"},b.changeLanguage(),b.getColorModules(),setTimeout((()=>{if(F()){let e=t.$utils.cache.userInfo.get();return e&&o.saveUserInfo(JSON.parse(e)),o.isCheckUser=!0,o.getProjectList(),void b.getVersionData()}b.getBmobNoticeData(),b.getVersionInfo(),b.getUserData()}),2e3)})),r(i(i({},f(a)),b),{editSpaceStore:o,checkDate:P,getCurrentEffect:l})}}),Bt={key:0,class:"full-layout flex-column-center",style:{"min-width":"360px"}},Ft={class:"dialog-mask gs-filter"},Pt={class:"loading-body flex-center"};var qt=fe(Ot,[["render",function(e,n,t,o,a,l){const s=w("HomeHeader"),i=w("HomeRouter"),r=w("HomeBottomTabbar"),c=w("el-container"),d=w("Snow"),u=w("NoticeDialog"),p=w("Loading"),g=w("LoginDialog"),m=w("van-config-provider"),f=w("el-config-provider");return x(),I(f,{locale:e.locale},{default:C((()=>[_(m,{theme:e.editSpaceStore.themeValue?"dark":"light",class:"full-layout"},{default:C((()=>[e.loading?V("",!0):(x(),$("div",Bt,[_(s,{onChangeLanguage:e.changeLanguage,onChangeTheme:e.changeTheme},null,8,["onChangeLanguage","onChangeTheme"]),_(c,{direction:"vertical",class:"home-box"},{default:C((()=>[_(i),["draw"].includes(e.$route.name)?V("",!0):(x(),I(r,{key:0}))])),_:1}),e.isShowEffect&&e.checkDate().includes("newyear")&&!["work","preview"].includes(e.$route.name)?(x(),I(d,{key:0})):V("",!0),e.isShowEffect&&["/price","/about"].includes(e.$route.path)?(x(),I(G(e.getCurrentEffect),{key:1,class:"isShowWebTitle"})):V("",!0)])),(x(),I(Q,{to:"body"},[e.noticeVisible&&!e.loading?(x(),I(u,{key:0,visible:e.noticeVisible,notice:e.notice,onClose:n[0]||(n[0]=n=>e.noticeVisible=!1)},null,8,["visible","notice"])):V("",!0),te(S("div",Ft,null,512),[[le,e.editSpaceStore.loginVisible]]),te(S("div",Pt,[_(p)],512),[[le,e.loading]]),_(g,{visible:e.editSpaceStore.loginVisible,onClose:n[1]||(n[1]=n=>e.editSpaceStore.loginVisible=!1)},null,8,["visible"])]))])),_:1},8,["theme"])])),_:1},8,["locale"])}],["__scopeId","data-v-382a3b87"]]);export{qt as default};
