var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(o,t,l)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l,c=(e,o)=>{for(var t in o||(o={}))s.call(o,t)&&a(e,t,o[t]);if(l)for(var t of l(o))i.call(o,t)&&a(e,t,o[t]);return e};import{_ as n,d as r,r as d,c as p,o as f,t as b,b as u,f as g,ao as m,h,a as v,e as y,j as k,n as j,z as O,v as V,q as C,l as w,k as I,g as U}from"./index-371f133f.js";const _=r({name:"NoticeDialog",components:{},props:{visible:{type:Boolean,default:!1},notice:{type:Object,default:null},footerBtn:{type:Object,default:()=>({str:"不再提示",id:1,visible:!0})}},emits:["close","readMsg"],setup(e,l){let{proxy:s}=U(),i=d({dialogVisible:e.visible});const a=p((()=>v()?!("0"===e.notice.isForceUpdate||e.notice.clientVersion&&e.notice.clientVersion===s.$config.clientVersionNumber):"0"!==e.notice.isForceUpdate));let n={handleClose(){i.dialogVisible=!1,l.emit("close"),s.$utils.cache.isHideNotice.set("0")},handleHidden(){1===e.footerBtn.id?(n.handleClose(),s.$utils.cache.isHideNotice.set(e.notice.id)):2===e.footerBtn.id&&(l.emit("readMsg"),i.dialogVisible=!1,l.emit("close"))}};return f((()=>{})),r=c(c({},b(i)),n),o(r,t({checkIsForceUpdate:a}));var r}}),F={class:"flex-between"},x=["id"],B={key:0,class:"flex-end"},H=["innerHTML"],N={class:"dialog-footer"};var P=n(_,[["render",function(e,o,t,l,s,i){const a=u("Close"),c=u("el-icon"),n=u("el-button"),r=u("el-dialog");return y(),g(r,{modelValue:e.dialogVisible,"onUpdate:modelValue":o[0]||(o[0]=o=>e.dialogVisible=o),width:400,"before-close":e.handleClose,"lock-scroll":!1,"show-close":!1,"close-on-click-modal":!e.checkIsForceUpdate,"close-on-press-escape":!e.checkIsForceUpdate,class:"z-dialog",center:""},m({header:h((({titleId:o,titleClass:t})=>[k("div",F,[k("h4",{id:o,class:C(t),draggable:"false"},V(e.notice.title),11,x),e.checkIsForceUpdate?I("v-if",!0):(y(),w("div",B,[j(c,{class:"pointer",onClick:e.handleClose,title:"关闭"},{default:h((()=>[j(a)])),_:1},8,["onClick"])]))])])),default:h((()=>[k("div",{class:"notice-content",innerHTML:e.notice.content},null,8,H)])),_:2},[!e.checkIsForceUpdate&&e.footerBtn.visible?{name:"footer",fn:h((()=>[k("span",N,[j(n,{type:"primary",onClick:e.handleHidden,class:"full-w"},{default:h((()=>[O(V(e.footerBtn.str),1)])),_:1},8,["onClick"])])]))}:void 0]),1032,["modelValue","before-close","close-on-click-modal","close-on-press-escape"])}],["__scopeId","data-v-8282c332"],["__file","D:/project/pixel-grid/src/components/dialog/NoticeDialog.vue"]]);export{P as N};
