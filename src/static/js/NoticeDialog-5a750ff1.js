var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(o,t,s)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s,c=(e,o)=>{for(var t in o||(o={}))l.call(o,t)&&a(e,t,o[t]);if(s)for(var t of s(o))i.call(o,t)&&a(e,t,o[t]);return e};import{d as n,r,o as d,t as p,b as f,e as b,f as u,a6 as m,h,j as g,k as v,l as y,x as k,s as j,n as O,p as V,a as C,g as w,c as I}from"./index-7e9c327e.js";import{_ as U}from"./plugin-vue_export-helper-46f75680.js";const x=n({name:"NoticeDialog",components:{},props:{visible:{type:Boolean,default:!1},notice:{type:Object,default:null},footerBtn:{type:Object,default:()=>({str:"不再提示",id:1,visible:!0})}},emits:["close","readMsg"],setup(e,s){let{proxy:l}=w(),i=r({dialogVisible:e.visible});const a=C((()=>I()?!("0"===e.notice.isForceUpdate||e.notice.clientVersion&&e.notice.clientVersion===l.$config.clientVersionNumber):"0"!==e.notice.isForceUpdate));let n={handleClose(){i.dialogVisible=!1,s.emit("close"),l.$utils.cache.isHideNotice.set("0")},handleHidden(){1===e.footerBtn.id?(n.handleClose(),l.$utils.cache.isHideNotice.set(e.notice.id)):2===e.footerBtn.id&&(s.emit("readMsg"),i.dialogVisible=!1,s.emit("close"))}};return d((()=>{})),f=c(c({},p(i)),n),o(f,t({checkIsForceUpdate:a}));var f}}),F={class:"flex-between"},_=["id"],B={key:0,class:"flex-end"},H=["innerHTML"],N={class:"dialog-footer"};var P=U(x,[["render",function(e,o,t,s,l,i){const a=f("Close"),c=f("el-icon"),n=f("el-button"),r=f("el-dialog");return b(),u(r,{modelValue:e.dialogVisible,"onUpdate:modelValue":o[0]||(o[0]=o=>e.dialogVisible=o),width:350,"before-close":e.handleClose,"lock-scroll":!1,"show-close":!1,"close-on-click-modal":!e.checkIsForceUpdate,"close-on-press-escape":!e.checkIsForceUpdate,class:"z-dialog",center:""},m({header:h((({titleId:o,titleClass:t})=>[g("div",F,[g("h4",{id:o,class:j(t),draggable:"false"},k(e.notice.title),11,_),e.checkIsForceUpdate?V("",!0):(b(),O("div",B,[v(c,{class:"pointer",onClick:e.handleClose,title:"关闭"},{default:h((()=>[v(a)])),_:1},8,["onClick"])]))])])),default:h((()=>[g("div",{class:"notice-content",innerHTML:e.notice.content},null,8,H)])),_:2},[!e.checkIsForceUpdate&&e.footerBtn.visible?{name:"footer",fn:h((()=>[g("span",N,[v(n,{type:"primary",onClick:e.handleHidden,class:"full-w"},{default:h((()=>[y(k(e.footerBtn.str),1)])),_:1},8,["onClick"])])])),key:"0"}:void 0]),1032,["modelValue","before-close","close-on-click-modal","close-on-press-escape"])}],["__scopeId","data-v-6b55f8f2"]]);export{P as N};
