var e=Object.defineProperty,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(r,i,a)=>i in r?e(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a;import{A as t,g as s}from"./index-6a0d579b.js";function d(){t();const{proxy:e}=s();return((e,t)=>{for(var s in t||(t={}))i.call(t,s)&&n(e,s,t[s]);if(r)for(var s of r(t))a.call(t,s)&&n(e,s,t[s]);return e})({},{findDB:r=>new Promise(((i,a)=>{e.$zdb.then((e=>{e.query_by_cursor_index({tableName:"pixelGrid",indexName:"id",indexValue:r,success:async e=>{i(e)}})}),(e=>{a(e)}))})),findAllDB:()=>new Promise(((r,i)=>{e.$zdb.then((e=>{e.queryAll({tableName:"pixelGrid",success:async e=>{r(e)}})}),(e=>{i(e)}))})),exportDB:r=>new Promise(((i,a)=>{e.$zdb.then((e=>{e.query_by_cursor_index({tableName:"pixelGrid",indexName:"id",indexValue:r,success:async e=>{if(!e.length)return a(new Error("暂无数据可导出"));i(e)}})}),(e=>{a(e)}))})),clearDB:r=>new Promise(((i,a)=>{e.$zdb.then((e=>{e.delete_by_index({tableName:"pixelGrid",indexName:"id",indexValue:r,success:()=>{i(!0)}})}),(e=>{a(e)}))})),updateDB(r){let i=JSON.parse(JSON.stringify(r));return new Promise(((r,a)=>{e.$zdb.then((e=>{e.update({tableName:"pixelGrid",condition:e=>e.id===i.id,handle:e=>{e.data=i.data},success:e=>{r(!0)}})}),(e=>{a(e)}))}))},saveDB(r,i){let a=JSON.parse(JSON.stringify(i));return new Promise(((i,n)=>{e.$zdb.then((e=>{e.insert({tableName:"pixelGrid",data:{id:r,data:a},success:()=>{i(!0)}})}),(e=>{n(e)}))}))}})}export{d as u};
