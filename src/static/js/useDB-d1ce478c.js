var e=Object.defineProperty,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(r,i,n)=>i in r?e(r,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[i]=n;import{y as t,g as s}from"./index-7e9c327e.js";function d(){t();const{proxy:e}=s();return((e,t)=>{for(var s in t||(t={}))i.call(t,s)&&a(e,s,t[s]);if(r)for(var s of r(t))n.call(t,s)&&a(e,s,t[s]);return e})({},{findDB:r=>new Promise(((i,n)=>{e.$zdb.then((e=>{e.query_by_cursor_index({tableName:"pixelGrid",indexName:"id",indexValue:r,success:async e=>{i(e)}})}),(e=>{n(e)}))})),findAllDB:()=>new Promise(((r,i)=>{e.$zdb.then((e=>{e.queryAll({tableName:"pixelGrid",success:async e=>{r(e)}})}),(e=>{i(e)}))})),exportDB:r=>new Promise(((i,n)=>{e.$zdb.then((e=>{e.query_by_cursor_index({tableName:"pixelGrid",indexName:"id",indexValue:r,success:async e=>{if(!e.length)return n(new Error("暂无数据可导出"));i(e)}})}),(e=>{n(e)}))})),clearDB:r=>new Promise(((i,n)=>{e.$zdb.then((e=>{e.delete_by_index({tableName:"pixelGrid",indexName:"id",indexValue:r,success:()=>{i(!0)}})}),(e=>{n(e)}))})),updateDB(r){let i=JSON.parse(JSON.stringify(r));return new Promise(((r,n)=>{e.$zdb.then((e=>{e.update({tableName:"pixelGrid",condition:e=>e.id===i.id,handle:e=>{e.data=i.data},success:e=>{r(!0)}})}),(e=>{n(e)}))}))},saveDB(r,i){let n=JSON.parse(JSON.stringify(i));return new Promise(((i,a)=>{e.$zdb.then((e=>{e.insert({tableName:"pixelGrid",data:{id:r,data:n},success:()=>{i(!0)}})}),(e=>{a(e)}))}))}})}export{d as u};
